// Initialize EmailJS
(function() {
    emailjs.init('JxMNevUrImlbmGCRx');
})();

document.querySelector('.contact__form').addEventListener('submit', function(event) {
    event.preventDefault();

    // Validation des champs
    const name = this.name.value.trim();
    const email = this.email.value.trim();
    const project = this.project.value.trim();
    const message = this.message.value.trim();

    // Vérification que tous les champs sont remplis
    if (!name || !email || !project || !message) {
        alert('Veuillez remplir tous les champs du formulaire.');
        return; // Arrête l'exécution de la fonction si un champ est vide
    }

    // Validation basique de l'email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        alert('Veuillez entrer une adresse email valide.');
        return;
    }

    const formData = {
        sendername: name,
        senderemail: email,
        senderproject: project,
        message: message
    };

    emailjs.send('service_6jce6mz', 'template_fsaoadg', formData)
        .then(function(response) {
            console.log('SUCCESS!', response.status, response.text);
            alert('Votre message a été envoyé avec succès !');
            document.querySelector('.contact__form').reset();
        }, function(error) {
            console.log('FAILED...', error);
            alert('Échec de l\'envoi du message. Veuillez réessayer.');
        });
}); 